# biogas-digester-syste-monitoring-system

**Project Purpose:**

The project's primary purpose is to monitor and transmit Bio Gas, particularly temperature, gas levels, and fluid flow rate, to an IoT platform for remote monitoring and analysis. This could be applied in various scenarios, including industrial automation, environmental monitoring, or remote sensor data collection.

![bio drawing (1)](https://github.com/Jerushan-jeru/biogas-digester-syste-monitoring-system/assets/75292658/cc3e049b-e6ac-4a79-aa41-f28e732ab6e3)



**Hardware and Software Requirements::**

Arduino Microcontroller
Temperature Sensor (DS18B20)
Gas Sensor
Flow Sensor
GPRS (2G) Module
LCD Display (LiquidCrystal_I2C)
Software Requirements:

Arduino IDE
Relevant Arduino Libraries
Access to the Thingspeak IoT Platform

**Functionality:**

The code initializes the various hardware components and sets up communication with the GPRS module and LCD display.

It continuously monitors and collects sensor data, including temperature, gas levels, and fluid flow rate.

The flow rate is calculated based on the pulses generated by the flow sensor.

The collected data is displayed on the LCD screen, including temperature (in both Celsius and Fahrenheit), flow rate, total volume, and gas sensor readings.

Additionally, the data is transmitted to the Thingspeak IoT platform via HTTP GET requests. The data is included as parameters in the request URL.

The GPRS module is used to establish a connection to the cellular network and send data to the Thingspeak platform.

The code includes functions for communicating with the GPRS module and displaying serial data.




**Hardware Setup:**

**Arduino Connection:**

Connect the Arduino Microcontroller to your computer via USB.
Temperature Sensor (DS18B20) Connection:

**Connect the DS18B20 temperature sensor to the Arduino.**
Wire the sensor's data pin (DQ) to the specified Arduino pin (SENSOR_PIN in the code).
Ensure the sensor's power and ground pins are properly connected.
Gas Sensor Connection:

**Connect the gas sensor to the Arduino.**
Wire the sensor to the specified Arduino pin (GAS_SENSOR_PIN in the code).
Connect any required power and ground connections for the gas sensor.
Flow Sensor Connection:

**Connect the flow sensor to the Arduino.**
Wire the sensor to the specified Arduino pin (FLOW_SENSOR_PIN in the code).
Make sure to connect any necessary power and ground wires.
GPRS (2G) Module Connection:

**Connect the GPRS module to the Arduino.**
Ensure proper wiring for serial communication with the Arduino (TX and RX pins).
Connect power and ground pins for the GPRS module.
LCD Display (LiquidCrystal_I2C) Connection:

Connect the I2C LCD display to the Arduino.
Make sure the I2C communication lines (SDA and SCL) are correctly wired.
Connect power and ground for the LCD.
Software Setup:


**Arduino IDE Installation:**

Download and install the Arduino Integrated Development Environment (IDE) on your computer if not already installed.
Library Installation:

Install the required Arduino libraries for the sensors and communication modules. You can typically install libraries through the Arduino IDE's Library Manager.
Arduino Sketch Upload:

Open the Arduino sketch file provided in the project.
Set up the Arduino IDE with the correct board type and COM port.
Upload the sketch to the Arduino microcontroller.
Configuration:

**GPRS Module Configuration:**
Configure the GPRS module with the appropriate network settings to establish a cellular connection. Refer to the module's documentation for guidance.



**Software Installation Guide:**

**Arduino IDE:**

Download and install the Arduino IDE from the official website (https://www.arduino.cc/en/software).
Library Installation:

**Open Arduino IDE.**
Go to "Sketch" > "Include Library" > "Manage Libraries..."
Install the following libraries:
DallasTemperature
OneWire
LiquidCrystal_I2C
(Optional) SoftwareSerial

Ensure you have these libraries installed to enable the code to work with the sensors and modules in the project.


#include <SoftwareSerial.h>
#include <OneWire.h>
#include <DallasTemperature.h>
#include <Wire.h>
#include <LiquidCrystal_I2C.h>

SoftwareSerial gprsSerial(11,10);

const int SENSOR_PIN = 4;           // Arduino pin connected to Temperture DS18B20 sensor's DQ pin
const int FLOW_SENSOR_PIN = 2;      // Arduino pin connected to the flow sensor
const int GAS_SENSOR_PIN = 3;       // Pin connected to the gas sensor

OneWire oneWire(SENSOR_PIN);         // setup a oneWire instance
DallasTemperature tempSensor(&oneWire); // pass oneWire to DallasTemperature library

float tempCelsius;    // temperature in Celsius
float tempFahrenheit; // temperature in Fahrenheit

int flowPulse = 0;               // Flow sensor pulse counter
float flowRate = 0.0;            // Flow rate in L/min
float totalVolume = 0.0;         // Total volume in liters
unsigned long prevMillis = 0;    // Previous time for flow rate calculation
unsigned long interval = 1000;   // Interval for flow rate calculation (1 second)


// LCD configuration
LiquidCrystal_I2C lcd(0x27, 16, 2);

void setup() {
  gprsSerial.begin(9600);
  Serial.begin(9600);
  tempSensor.begin(); // initialize the sensor
  lcd.init();         // initialize the LCD
  lcd.backlight();    // turn on the backlight
  pinMode(FLOW_SENSOR_PIN, INPUT); // Initialize the flow sensor pin as INPUT
  lcd.clear();        // clear the LCD screen
  delay(1000);
}

void loop() {

  lcd.clear(); // Clear the LCD screen
  lcd.setCursor(0, 0); // Set cursor to the first row, first column
  lcd.print(" DATA SEND ");
  delay (3000);

  lcd.clear();
  lcd.setCursor(0,0);
  lcd.print (" BIO GAS ");
  delay (1000);
  lcd.setCursor (0,1);
  lcd.print ("SPM PROJECT");
  delay (5000);

   // Read flow sensor data
  if (millis() - prevMillis > interval) {
    float sensorVoltage = analogRead(FLOW_SENSOR_PIN) * 5.0 / 1024.0;
    flowRate = sensorVoltage * 40.0; // Flow rate in L/min (adjust the constant based on your sensor)
    totalVolume += flowRate / 60.0;  // Total volume in liters

    prevMillis = millis(); // Update the previous time
  }

  // Print temperature data on the LCD (unchanged)

  // Print temperature data to Serial monitor (unchanged)

  // Print Flow Rate data to Serial monitor and LCD
  lcd.clear ();
  lcd.setCursor(0, 0); // Set cursor to the third row, first column
  lcd.print("Flow Rate: ");
  lcd.print(flowRate, 2); // Display flow rate with two decimal places
  lcd.print(" L/min");
  delay (5000);


  Serial.print("Flow Rate (L/min): ");
  Serial.println(flowRate, 2); // Print flow rate with two decimal places


  lcd.clear ();                        // Print Total Volume data to Serial monitor and LCD
  lcd.setCursor(0,0); // Set cursor to the fourth row, first column
  lcd.print("Total Volume: ");
  lcd.print(totalVolume, 2); // Display total volume with two decimal places
  lcd.print(" L");
  delay (5000);

  Serial.print("Total Volume (L): ");
  Serial.println(totalVolume, 2); // Print total volume with two decimal places

  
  // Read gas sensor data
  float sensorValue = analogRead(GAS_SENSOR_PIN);
  Serial.print("Gas Sensor Value: ");
  Serial.println(sensorValue);

  lcd.clear ();                        // Print Total Volume data to Serial monitor and LCD
  lcd.setCursor(0,0);               // Set cursor to the fourth row, first column
  lcd.print("Gas Value: ");
  lcd.print(sensorValue);
  delay (5000);

                                                // Read temperature sensor data
  tempSensor.requestTemperatures();             // send the command to get temperatures
  tempCelsius = tempSensor.getTempCByIndex(0);  // read temperature in Celsius
  tempFahrenheit = tempCelsius * 9 / 5 + 32; // convert Celsius to Fahrenheit

  // Print temperature data on the LCD
  lcd.clear(); // Clear the LCD screen
  lcd.setCursor(0, 0); // Set cursor to the first row, first column
  lcd.print("Temp: ");
  lcd.print(tempCelsius);
  lcd.print("C");
  lcd.setCursor(0,1); // Set cursor to the second row, first column
  lcd.print("Fahrenheit: ");
  lcd.print(tempFahrenheit);
  lcd.print("F");
  delay (5000);

  // Print temperature data to Serial monitor
  Serial.print("Temperature: ");
  Serial.print(tempCelsius);    // print the temperature in Celsius
  Serial.print("°C");
  Serial.print("  ~  ");        // separator between Celsius and Fahrenheit
  Serial.print(tempFahrenheit); // print the temperature in Fahrenheit
  Serial.println("°F");

// GPRS-related code (unchanged)
  if (gprsSerial.available())
    Serial.write(gprsSerial.read());

  gprsSerial.println("AT");
  delay(1000);

  gprsSerial.println("AT+CPIN?");
  delay(1000);

  gprsSerial.println("AT+CREG?");
  delay(1000);

  gprsSerial.println("AT+CGATT?");
  delay(1000);

  gprsSerial.println("AT+CIPSHUT");
  delay(1000);

  gprsSerial.println("AT+CIPSTATUS");
  delay(2000);

  gprsSerial.println("AT+CIPMUX=0");
  delay(2000);

  ShowSerialData();

  gprsSerial.println("AT+CSTT=\"dialogbb\"");
  delay(1000);

  ShowSerialData();

  gprsSerial.println("AT+CIICR");
  delay(3000);

  ShowSerialData();

  gprsSerial.println("AT+CIFSR");
  delay(2000);

  ShowSerialData();

  gprsSerial.println("AT+CIPSPRT=0");
  delay(3000);

  ShowSerialData();

  gprsSerial.println("AT+CIPSTART=\"TCP\",\"api.thingspeak.com\",\"80\"");
  delay(6000);

  ShowSerialData();

  gprsSerial.println("AT+CIPSEND");
  delay(4000);
  ShowSerialData();

  String str = "GET /update?api_key=BK3ZSCZNKT71QDV5&field1=" + String(tempCelsius) + "&field2=" + String(tempFahrenheit) + "&field3=" + String(totalVolume)+ "&field4=" + String(sensorValue);
  Serial.println(str);
  gprsSerial.println(str);

  delay(4000);
  ShowSerialData();

  gprsSerial.println((char)26);
  delay(5000);
  gprsSerial.println();

  ShowSerialData();

  gprsSerial.println("AT+CIPSHUT");
  delay(100);
  ShowSerialData();
}

void ShowSerialData() {
  while (gprsSerial.available() != 0)
    Serial.write(gprsSerial.read());
  delay(5000);
}
 




**Power Up:**

Power up the Arduino and ensure all connections are secure.
Monitor Data:

Monitor data on the LCD display, which will show temperature, flow rate, gas levels, and other information.
Data Transmission:

Data will be transmitted to the Thingspeak IoT platform over the cellular network.


**Notes:**

Ensure that the necessary libraries for the sensors and communication modules are installed in your Arduino IDE.

The code includes periodic delays for displaying data and transmitting it to Thingspeak. You may adjust these delays based on your project requirements.

Configure the GPRS module with the appropriate network settings to establish a cellular connection.

This project demonstrates a basic IoT prototype with data collection and transmission capabilities, making it a foundation for more advanced applications in remote monitoring and control.






